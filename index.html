<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Users Api</title>
    <style>
        .user{
            color: red;
        }
    </style>
</head>
<body>
    <input type="text" id="user-count">
    <button id="load-user">Load-User</button>
    <div id="user"></div>
    <div id="user-details"></div>

    <script>
        //  fetch('https://jsonplaceholder.typicode.com/users')
        //     .then(response => response.json())
        //     .then(data => {
        //     // console.log(data);
        //     const userContent = document.getElementById('user');
        //     userContent.innerHTML = "";
        //     for(let i = 0; i < data.length; i++){
        //         const user = data[i];
        //         // console.log(user);
        //         const p = document.createElement('p');
        //         // p.innerText = user.name;
        //         p.innerHTML = `
        //         <p class="user">Name: <strong>${user.name}</strong> <button onclick="userDetails(${user.id})">Details - ${user.id}</button></p>
        //         `;
        //         userContent.appendChild(p);

                
        //     }
        // })

        // function userDetails(userId){
        //     fetch(`https://jsonplaceholder.typicode.com/users/${userId}`)
        //     .then(response => response.json())
        //     .then(data => {
        //         // console.log(data);
        //         const userDetails = document.getElementById('user-details')
        //         userDetails.innerHTML = `
        //               <h1>Name: ${data.name}</h1>
        //               <h3>Email: ${data.email}</h3>
        //               <p>Phone: ${data.phone}</p>
        //         `
               
        //     })
        // }




        const loadUser = document.getElementById('load-user');
        loadUser.addEventListener('click', function(){
            const userText = document.getElementById('user-count').value;
            const count = parseInt(userText);
            // console.log(count);

            fetch('https://jsonplaceholder.typicode.com/users')
            .then(response => response.json())
            .then(data => {
                 data = data.slice(0, count);
            // console.log(data);
            const userContent = document.getElementById('user');
            userContent.innerHTML = "";
            for(let i = 0; i < data.length; i++){
                const user = data[i];
                // console.log(user);
                const p = document.createElement('p');
                // p.innerText = user.name;
                p.innerHTML = `
                <p class="user">Name: <strong>${user.name}</strong> <button onclick="userDetails(${user.id})">Details - ${user.id}</button></p>
                `;
                userContent.appendChild(p);

                
            }
        })
        })


        function userDetails(userId){
            fetch(`https://jsonplaceholder.typicode.com/users/${userId}`)
            .then(response => response.json())
            .then(data => {
                // console.log(data);
                const userDetails = document.getElementById('user-details')
                userDetails.innerHTML = `
                      <h1>Name: ${data.name}</h1>
                      <h3>Email: ${data.email}</h3>
                      <p>Phone: ${data.phone}</p>
                `
               
            })
        }
    </script>
</body>
</html>